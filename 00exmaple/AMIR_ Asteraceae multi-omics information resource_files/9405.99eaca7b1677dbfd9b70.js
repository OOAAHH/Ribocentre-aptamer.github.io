"use strict";(self.webpackChunkosmanthus=self.webpackChunkosmanthus||[]).push([[9405],{70596:(e,t,a)=>{a.d(t,{S1:()=>n.S1});var o=a(68023),n=a(1366),i=a(70012),r=a(8492),l=a(54377),s=a(32586),d=a(26947),c=a(41969),p=a(2907),u=a(77924),m=a(48785),g=a(57494),y=a(16026),h=a(73463),_=a(81836),x=a(89338),b=a(16049),f=a(11677),v=a(49693),w=a(69517),A=a(50241),C=a(59048),I=a(23707),P=a(33801),S=a(38198),M=a(28989),D=a(31281),B=a(3754),L=a(97563),k=a(27920),E=a(60520),O=a(56042),F=a(2935),T=a(5045),j=a(17813),N=a(97037),G=a(2834),R=a(8690),z=a(31251),W=a(28078),Z=a(47106),K=a(10680),q=a(93450),U=a(34584),Y=a(8117),$=a(81261),J=a(68712),X=a(20819),V=a(43277),H=a(30322),Q=a(82658),ee=a(27240),te=a(79813),ae=a(87164);(0,o.D)([i.N]),(0,o.D)([r.N]),(0,o.D)([l.N,s.N,d.N,c.N,p.N,u.N,m.N,g.N,y.N,h.N,_.N,x.N,b.N,f.N,v.N,w.N,A.N,C.N,I.N,P.N,S.N,M.N]),(0,o.D)(D.N),(0,o.D)(B.N),(0,o.D)(L.N),(0,o.D)(k.N),(0,o.D)(E.N),(0,o.D)(O.N),(0,o.D)(F.N),(0,o.D)(T.N),(0,o.D)(j.N),(0,o.D)(N.N),(0,o.D)(G.N),(0,o.D)(R.N),(0,o.D)(z.N),(0,o.D)(W.N),(0,o.D)(Z.N),(0,o.D)(K.N),(0,o.D)(q.N),(0,o.D)(U.N),(0,o.D)(Y.N),(0,o.D)($.N),(0,o.D)(J.N),(0,o.D)(X.N),(0,o.D)(V.N),(0,o.D)(H.N),(0,o.D)(Q.N),(0,o.D)(ee.N),(0,o.D)(te.z),(0,o.D)(ae.T)},49405:(e,t,a)=>{var o=a(4942),n=a(51721),i=(a(32970),n.Z.create({baseURL:"https://yanglab.hzau.edu.cn/amir"}));function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,o)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){(0,o.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}a(43971),a(94915);var s={destroy:!0,searching:!0,order:[],dom:"Bfrtip",scrollX:!0,paging:!0,pagingType:"input"},d=a(47479);console.log("hhh"),i({url:"/Genomics/get_genome_data",method:"get"}).then((function(e){console.log(e),console.log(e.data.data_source),console.log(e.data.data_summary);var t=function(e){var t={speciess:[],years:[]},a=Object.create(null),o=Object.create(null);for(var n in e.forEach((function(e){var t=e.species,n=e.date.split("/")[0];console.log("year",n),(t=t.replace("-","-"))in a||(a[t]=0),a[t]++,n in o||(o[n]=0),o[n]++})),a)t.speciess.push({name:n,value:a[n]});for(var i in o)t.years.push({name:i,value:o[i]});return console.log("pie"),console.log(t),t}(e.data.data_source);console.log(t),function(e,t){t=t||[];$("#genome_source_table").DataTable(l(l({},s),{},{columns:[{data:"species",render:function(e){return"nan"===e||void 0===e||"\\"===e?"--":e}},{data:function(e){return e.Genome_accession?"<a href=".concat(e.platform_url,' target="blank">').concat(e.Genome_accession,"</a>"):"<span>--</span>"}},{data:"Genome_name",render:function(e){return"nan"===e||void 0===e||"\\"===e?"--":e}},{data:"common_name",render:function(e){return"nan"===e||void 0===e||"\\"===e?"--":e}},{data:"platform",render:function(e){return"nan"===e||void 0===e||"\\"===e?"--":e}},{data:"sequencing_method",render:function(e){return"nan"===e||void 0===e||"\\"===e?"--":e}},{data:"assembly_method",render:function(e){return"nan"===e||void 0===e||"\\"===e?"--":e}},{data:"date",render:function(e){return"nan"===e||void 0===e||"\\"===e?"--":e}},{data:function(e){return"nan"!=e.reference&&"nan"!=e.reference_url?'<a href="'.concat(e.reference_url,'" target="blank">').concat(e.reference,"</a>"):"<span>--</span>"}}],buttons:[{extend:"excelHtml5",title:"download",text:"Download",exportOptions:{modifier:{order:"current",page:"3",selected:null}}}],data:t})).order([[0,"asc"]]).draw()}(0,e.data.data_source),function(e,t){t=t||[],console.log("6.26",t);$("#genome_info_table").DataTable(l(l({},s),{},{columns:[{data:"species"},{data:function(e){return e.Genome_accession?"<a href=".concat(e.platform_url,' target="blank">').concat(e.Genome_accession,"</a>"):"<span>--</span>"}},{data:"Genome_name",render:function(e){return"nan"===e||void 0===e||"\\"===e?"--":e}},{data:"assembly_level",render:function(e){return"nan"===e||void 0===e||"\\"===e?"--":e}},{data:"genome_size",render:function(e){return"nan"===e||void 0===e||"\\"===e?"--":e}},{data:function(e){return e.pseudomolecules&&e.download_id&&"\\"!=e.pseudomolecules&&"nan"!=e.pseudomolecules?"<a onclick=\"table_file_download('genome_fasta','genome.fasta.gz','".concat(e.download_id,".genome.fasta.gz','").concat(e.download_id,"')\">").concat(e.pseudomolecules,"</a>"):"<span>--</span>"}},{data:"scaffold_N50",render:function(e){return"nan"===e||void 0===e||"\\"===e?"--":e}}],buttons:[{extend:"excelHtml5",title:"gene basic information",text:"Download",exportOptions:{modifier:{order:"current",page:"all",selected:null}}}],data:t}))}(0,e.data.data_summary);var a=function(e){var t={years:[],nums:[]},a=Object.create(null);for(var o in e.forEach((function(e){var t=e.date.split("/")[0];"nan"!==t&&(t in a||(a[t]=0),a[t]++)})),a)t.years.push(o),t.nums.push(a[o]);return console.log("bar"),console.log(t),t}(e.data.data_source),n=function(e){var t={levels:[]},a=Object.create(null);for(var o in e.forEach((function(e){var t=e.assembly_level;t in a||(a[t]=0),a[t]++})),a)t.levels.push({name:o,value:a[o]});return t}(e.data.data_summary),i=function(e){var t={levels:[],datas:[]};console.log("annopie"),console.log(e);var a=Object.create(null);for(var o in e.forEach((function(e){var o=e.Protein_coding_gene_num,n=e.version,i="";"-"!==o&&"--"!==o&&"nan"!==o&&"/"!==o&&""!==o&&"AMIRv0"!==n?(i="Database collection",t.datas.push(e)):"-"!==o&&"--"!==o&&""!==o&&"AMIRv0"==n?(i="AMIR prediction",t.datas.push(e)):i="No",i in a||(a[i]=0),a[i]++})),a)t.levels.push({name:o,value:a[o]});return console.log(t),t}(e.data.data_summary);console.log(i),function(e,t){t=t||[];$("#annotation_info_table").DataTable(l(l({},s),{},{columns:[{data:"species"},{data:function(e){return e.Genome_accession?"<a href=".concat(e.platform_url,' target="blank">').concat(e.Genome_accession,"</a>"):"<span>--</span>"}},{data:"Genome_name",render:function(e){return"nan"===e||void 0===e||"\\"===e?"--":e}},{data:function(e){return e.transcript_num&&e.download_id&&"\\"!=e.transcript_num&&"nan"!=e.transcript_num&&"-"!=e.transcript_num?"<a onclick=\"table_file_download('cds_new','cds.fasta','".concat(e.download_id,".cds.fasta','").concat(e.download_id,"')\">").concat(e.transcript_num,"</a>"):"<span>--</span>"}},{data:function(e){return e.Protein_coding_gene_num&&e.download_id&&"\\"!=e.Protein_coding_gene_num&&"nan"!=e.Protein_coding_gene_num&&"-"!=e.Protein_coding_gene_num?"<a onclick=\"table_file_download('pep_new_amid','pep.fa','".concat(e.download_id,".pep.fa','").concat(e.download_id,"')\">").concat(e.Protein_coding_gene_num,"</a>"):"<span>--</span>"}}],buttons:[{extend:"excelHtml5",title:"gene basic information",text:"Download",exportOptions:{modifier:{order:"current",page:"all",selected:null}}}],data:t}))}(0,i.datas),(0,d.SZ)("species_pie_plot",{title:"Species:74",plotData:t.speciess}),(0,d.zK)("year_bar_plot",a),console.log(n.levels),(0,d.rW)("level_pie_plot",{title:"Assembly level",plotData:n.levels}),(0,d.e2)("anno_pie_plot",(0,o.Z)({title:"The proportion of annotations",plotData:i.levels},"title","The proportion of annotations"));var r=$("#genome_source_table").DataTable().data();console.log("hh",r)}))},47479:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{SZ:()=>drawGeneClusterPiePlot,e2:()=>drawGeneClusterPiePlot2,rW:()=>drawGeneClusterPiePlot1,zK:()=>genome_bar_plot});var echarts__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(70596),zrender_lib_svg_svg__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(31663),d3v3__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(20820),d3v3__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(d3v3__WEBPACK_IMPORTED_MODULE_2__),d3v4__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(84475),jquery__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(19755),jquery__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_4__),lodash__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(96486),lodash__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_5__),drawGeneClusterBarPlot=function(e,t){var a=document.getElementById(e);echarts.init(a).dispose();var o,n=echarts.init(a,null,{renderer:"svg"}),i=[];Object.keys(t).forEach((function(e){i.push({name:e,data:t[e],type:"bar",stack:"total",label:{show:!1},emphasis:{focus:"series"}})})),(o={tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},legend:{orient:"vertical",left:"top",type:"scroll",top:"10%"},grid:{left:"15%",containLabel:!0},toolbox:{feature:{saveAsImage:{show:!0}},top:"7%"},yAxis:{type:"value"},xAxis:{type:"category",data:["Arctium_lappa","Helianthus_annuus"],axisLabel:{show:!0,interval:0,rotate:60}},series:i})&&n.setOption(o)},drawGeneClusterPiePlot=function(e,t){var a=document.getElementById(e);echarts__WEBPACK_IMPORTED_MODULE_0__.S1(a).dispose();var o,n=echarts__WEBPACK_IMPORTED_MODULE_0__.S1(a,null,{renderer:"svg"});o={title:{text:t.title,left:"center",top:"10%"},tooltip:{trigger:"item",formatter:"{b}: {c}({d}%)"},legend:{orient:"vertical",left:"top",type:"scroll",top:"70%",show:!0},grid:{left:"40%",containLabel:!0},toolbox:{feature:{saveAsImage:{show:!0}},top:"5%"},series:[{type:"pie",radius:"50%",data:t.plotData,labelLine:{show:!1},label:{show:!1},emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}},selectedMode:"single",selectedOffset:30}]},n.on("click",(function(e){var t=e.data.name;console.log(e.data.name);var a=$("#genome_source_table").DataTable(),o=a.column(0).search();a.search("").columns().search("").draw(),o!==t&&a.column(0).search(t,!0,!1).draw()})),o&&n.setOption(o)},drawGeneClusterPiePlot1=function(e,t){var a=document.getElementById(e);echarts__WEBPACK_IMPORTED_MODULE_0__.S1(a).dispose();var o,n=echarts__WEBPACK_IMPORTED_MODULE_0__.S1(a,null,{renderer:"svg"});o={title:{text:t.title,left:"center",top:"0%"},tooltip:{trigger:"item",formatter:"{b}: {c}({d}%)"},legend:{orient:"vertical",left:"top",type:"scroll",top:"10%",show:!0},grid:{left:"0%",containLabel:!0},toolbox:{feature:{saveAsImage:{show:!0}},top:"5%"},series:[{type:"pie",data:t.plotData,label:{formatter:"{b}: {c}"},emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}},{type:"pie",data:t.plotData,label:{formatter:"{d}%",position:"inner"},emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}},selectedMode:"single",selectedOffset:30}]},n.on("click",(function(e){var t=e.data.name;console.log(e.data.name);var a=$("#genome_info_table").DataTable(),o=a.column(3).search();a.search("").columns().search("").draw(),o!==t&&a.column(3).search(t,!0,!1).draw()})),o&&n.setOption(o)},drawGeneClusterPiePlot2=function(e,t){var a=document.getElementById(e);echarts__WEBPACK_IMPORTED_MODULE_0__.S1(a).dispose();var o,n=echarts__WEBPACK_IMPORTED_MODULE_0__.S1(a,null,{renderer:"svg"});(o={title:{text:t.title,left:"center",top:"10%"},tooltip:{trigger:"item",formatter:"{b}: {c}({d}%)"},legend:{orient:"vertical",left:"top",type:"scroll",top:"70%",show:!0},grid:{left:"40%",containLabel:!0},toolbox:{feature:{saveAsImage:{show:!0}},top:"5%"},series:[{type:"pie",radius:"50%",data:t.plotData,labelLine:{show:!0},label:{show:!0,label:{formatter:"{b}: {c}"}},emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}},selectedMode:"single",selectedOffset:30},{type:"pie",radius:"50%",data:t.plotData,label:{formatter:"{d}%",position:"inner"},emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]})&&n.setOption(o)},drawGeneFamilyLygSubFamilyPiePlot=function(e,t,a){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"ZS11",n={tooltip:{trigger:"item",formatter:"{a} <br/>{b} :({d}%)"},legend:{show:!1,orient:"vertical",left:"left",type:"scroll",top:"7%",textStyle:{width:120,overflow:"truncate"}},grid:{left:"35%",containLabel:!0},toolbox:{top:"5%",feature:{saveAsImage:{show:!0}}},series:[{name:"ZS11"===o?"Bna No.":"AtGI No.",type:"pie",roseType:"area",radius:"40%",data:[],label:{width:150,overflow:"truncate"},emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]},i={xAxis:{type:"category",data:[],axisLabel:{interval:5,rotate:60,width:120,overflow:"truncate"}},dataZoom:[{type:"inside"}],grid:{bottom:"25%"},yAxis:{type:"value",name:"ZS11"===o?"Bna No.":"AtGI No.",nameLocation:"middle",nameGap:35},tooltip:{trigger:"item"},toolbox:{feature:{saveAsImage:{show:!0}}},series:[{data:[],type:"bar"}]},r=document.getElementById(e);echarts.init(r).dispose();var l,s=echarts.init(r,null,{renderer:"svg"});if(t.x.length>50)(l=i).xAxis.data=t.x,l.series[0].data=t.y;else{l=n;for(var d=[],c=t.y.reduce((function(e,t){return e+t})),p=0;p<t.x.length;p++)d.push({value:(t.y[p]/c).toFixed(2),name:t.x[p]});l.series[0].data=d}return l&&s.setOption(l),s.on("click",a),s},drawGeneFamilyLygCopyPiePlot=function(e,t){var a=document.getElementById(e);echarts.init(a).dispose();var o,n=echarts.init(a,null,{renderer:"svg"});return(o={title:{text:"",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} :({d}%)"},legend:{orient:"vertical",left:"top",type:"scroll",top:"10%"},grid:{bottom:"10%",containLabel:!0},toolbox:{feature:{saveAsImage:{show:!0}},top:"5%"},series:[{name:"",type:"pie",radius:"40%",data:t,emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]})&&n.setOption(o),n},drawGeneFamilyLygCopyBarPlot=function(e,t){var a;a=t.y.length>0?t.y.reduce((function(e,t){return Number(e)+Number(t)}),0)/t.y.length:0;var o=document.getElementById(e);echarts.init(o).dispose();var n,i=echarts.init(o,null,{renderer:"svg"});return(n={xAxis:{type:"category",data:t.x,axisLabel:{rotate:80}},tooltip:{trigger:"item"},dataZoom:[{type:"inside"},{type:"slider",bottom:"5%"}],grid:{bottom:"10%",containLabel:!0},yAxis:{type:"value",name:"OsmGI LYG No.",nameLocation:"middle",nameGap:35},toolbox:{feature:{saveAsImage:{show:!0}},top:"5%"},series:[{data:t.y,type:"bar",markLine:{symbol:"none",data:[{yAxis:a,lineStyle:{type:"dashed",color:"black",width:2}}]}}]})&&i.setOption(n),i},drawGermplasmPiePlot=function(e,t){var a=document.getElementById(e);echarts.init(a).dispose();var o,n=echarts.init(a,null,{renderer:"svg"});(o={title:{text:"Group",left:"center"},tooltip:{trigger:"item"},toolbox:{show:!0,x:500,y:30,feature:{saveAsImage:{show:!0,name:"chart"}}},color:["#e3e7e9","#f4d020","#bfae6f","#bf4d26","#9467BD","#8C564B","#E377C2"],legend:{type:"scroll",orient:"vertical",x:"5%"},series:[{type:"pie",radius:"50%",data:t,center:["60%","50%"],label:{show:!0,position:"outside",formatter:"{d}%"}}]})&&n.setOption(o)},drawGermplasmBarPlot=function(e,t){var a=["#e3e7e9","#f4d020","#bfae6f","#bf4d26","#9467BD","#8C564B","#E377C2"];Object.keys(t.y).forEach((function(e){t.y[e].forEach((function(o,n){t.y[e][n]={value:o,itemStyle:{color:a[n]}}}))}));var o=document.getElementById(e);echarts.init(o).dispose();var n,i=echarts.init(o,null,{renderer:"svg"});(n={title:[{text:"Branch length",left:"20%",top:"2%"},{text:"Corolla diameter",right:"18%",top:"2%"},{text:"Flower color",left:"20%",top:"52%"},{text:"Flower number",right:"18%",top:"52%"}],tooltip:{show:!0},grid:[{left:"7%",top:"7%",width:"38%",height:"38%"},{right:"7%",top:"7%",width:"38%",height:"38%"},{left:"7%",bottom:"7%",width:"38%",height:"38%"},{right:"7%",bottom:"7%",width:"38%",height:"38%"}],xAxis:[{gridIndex:0,data:t.x},{gridIndex:1,data:t.x},{gridIndex:2,data:t.x},{gridIndex:3,data:t.x}],yAxis:[{gridIndex:0},{gridIndex:1},{gridIndex:2},{gridIndex:3}],series:[{name:"Branch length",type:"bar",xAxisIndex:0,yAxisIndex:0,data:t.y.bl,label:{show:!0,position:"top"}},{name:"Corolla diameter",type:"bar",xAxisIndex:1,yAxisIndex:1,data:t.y.cd,label:{show:!0,position:"top"}},{name:"Flower color",type:"bar",xAxisIndex:2,yAxisIndex:2,data:t.y.fc,label:{show:!0,position:"top"}},{name:"Flower number",type:"bar",xAxisIndex:3,yAxisIndex:3,data:t.y.fn,label:{show:!0,position:"top"}}]})&&i.setOption(n)},drawPcaPlot=function(e,t,a,o){var n=Object.keys(o),i=document.getElementById(e);echarts.init(i).dispose();var r,l=echarts.init(i,null,{renderer:"svg"});(r={title:[{text:t,top:"bottom",left:"center",textStyle:{fontWeight:"normal",fontSize:14}},{text:a,left:"left",top:"middle",textStyle:{fontWeight:"normal",fontSize:14}}],grid:{left:"15%"},tooltip:{show:!0,formatter:function(e){return"".concat(e.marker," ").concat(e.seriesName,"<br><b>").concat(e.data[2],":</b><br>").concat(t,": ").concat(e.data[0],"<br>").concat(a,": ").concat(e.data[1])}},legend:{show:!0},xAxis:{axisTick:{show:!1}},yAxis:{axisTick:{show:!1}},toolbox:{feature:{saveAsImage:{show:!0}},top:"5%"},series:[{data:o[n[0]],name:n[0],type:"scatter",itemStyle:{color:"#f29c79"}},{data:o[n[1]],name:n[1],type:"scatter",itemStyle:{color:"#96cec1"}},{data:o[n[2]],name:n[2],type:"scatter",itemStyle:{color:"#3a5685"}},{data:o[n[3]],name:n[3],type:"scatter",itemStyle:{color:"#d42824"}}]})&&l.setOption(r)},drawStructurePlot=function(e,t){var a=document.getElementById(e);echarts.init(a).dispose();var o,n=echarts.init(a,null,{renderer:"svg"});(o={tooltip:{trigger:"axis"},legend:{},dataZoom:[{type:"inside"}],grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:t.x,axisLabel:{rotate:60},axisTick:{show:!1}}],yAxis:[{type:"value",max:1}],series:[{name:"Yingui",type:"bar",stack:"structure",data:t.y.Yingui,color:"#f29c79"},{name:"Jingui",type:"bar",stack:"structure",data:t.y.Jingui,color:"#96cec1"},{name:"Sijigui",type:"bar",stack:"structure",data:t.y.Sijigui,color:"#3a5685"},{name:"Dangui",type:"bar",stack:"structure",data:t.y.Dangui,color:"#d42824"}]})&&n.setOption(o)},drawFstLinePlot=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},o=document.getElementById(e);echarts.init(o).dispose();var n,i=echarts.init(o,null,{renderer:"svg"});if(n={title:{text:t.title,left:100},tooltip:{trigger:"axis",axisPointer:{animation:!0,type:"cross"},formatter:function(e){var t=[],a=[e[0].name];return(t=_toConsumableArray(e)).sort((function(e,t){return t.value-e.value})),t.forEach((function(e){var t=e.marker+" "+e.seriesName+": "+e.value;a.push(t)})),a.join("<br/>")}},dataZoom:[{type:"inside"},{type:"slider",bottom:"5%"}],toolbox:{feature:{saveAsImage:{show:!0}},right:"0"},legend:{data:["Dangui/Jingui","Dangui/Sijigui","Dangui/Yingui","Jingui/Sijigui","Jingui/Yingui","Sijigui/Yingui"],left:"25%"},grid:{bottom:"10%",left:"13%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:t.x,show:!1,silent:!1,splitLine:{show:!1},splitArea:{show:!1}},yAxis:{type:"value",splitArea:{show:!1},splitLine:{show:!1},min:0,name:"{a|F}{b|st} ",nameLocation:"middle",nameGap:50,nameTextStyle:{rich:{a:{fontSize:15,fontStyle:"italic"},b:{fontSize:10,padding:[10,0,10,0]}}}},series:[{name:"Dangui/Jingui",type:"line",data:t.y.d_j,color:"#3C5488"},{name:"Dangui/Sijigui",type:"line",data:t.y.d_s,color:"#F39B7F"},{name:"Dangui/Yingui",type:"line",data:t.y.d_y,color:"#91D1C2"},{name:"Jingui/Sijigui",type:"line",data:t.y.j_s,color:"#D62728"},{name:"Jingui/Yingui",type:"line",data:t.y.j_y,color:"#9467BD"},{name:"Sijigui/Yingui",type:"line",data:t.y.s_y,color:"#8C564B"}]},t.gene&&(n.series[0].markArea={itemStyle:{color:"rgba(255, 173, 177, 0.4)"},data:[[{name:t.gene,xAxis:"".concat(t.chr," ").concat(5e4*parseInt(t.start/5e4))},{xAxis:"".concat(t.chr," ").concat(5e4*parseInt(t.end/5e4+1))}]]}),t.divider){var r=t.x[0];n.series[0].markLine={symbol:"none",data:[{xAxis:r,lineStyle:{type:"dashed",color:"black",width:2},label:{formatter:r.split(" ")[0]||"",position:"Bottom"}}]},t.x.forEach((function(e){e.split(" ")[0]!==r.split(" ")[0]&&(r=e,n.series[0].markLine.data.push({xAxis:r,lineStyle:{type:"dashed",color:"black",width:2},label:{formatter:r.split(" ")[0]||"",position:"Bottom"}}))}))}n&&i.setOption(n),i.on("dataZoom",a)},drawPiLinePlot=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},o=document.getElementById(e);echarts.init(o).dispose();var n,i=echarts.init(o,null,{renderer:"svg"});if(n={title:{text:t.title,left:100},tooltip:{trigger:"axis",axisPointer:{animation:!0,type:"cross"},formatter:function(e){var t=[],a=[e[0].name];return(t=_toConsumableArray(e)).sort((function(e,t){return t.value-e.value})),t.forEach((function(e){var t=e.marker+" "+e.seriesName+": "+e.value;a.push(t)})),a.join("<br/>")}},dataZoom:[{type:"inside"},{type:"slider",bottom:"5%"}],toolbox:{feature:{saveAsImage:{show:!0}},right:"0"},legend:{data:["Dangui","Jingui","Sijigui","Yingui"],left:"30%"},grid:{bottom:"10%",left:"13%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:t.x,show:!1,silent:!1,splitLine:{show:!1},splitArea:{show:!1}},yAxis:{type:"value",splitArea:{show:!1},splitLine:{show:!1},min:0,name:"π",nameLocation:"middle",nameGap:50},series:[{name:"Dangui",type:"line",data:t.y.dangui,color:"#3C5488"},{name:"Jingui",type:"line",data:t.y.jingui,color:"#F39B7F"},{name:"Sijigui",type:"line",data:t.y.sijigui,color:"#91D1C2"},{name:"Yingui",type:"line",data:t.y.yingui,color:"#D62728"}]},t.gene&&(n.series[0].markArea={itemStyle:{color:"rgba(255, 173, 177, 0.4)"},data:[[{name:t.gene,xAxis:"".concat(t.chr," ").concat(5e4*parseInt(t.start/5e4))},{xAxis:"".concat(t.chr," ").concat(5e4*parseInt(t.end/5e4+1))}]]}),t.divider){var r=t.x[0];n.series[0].markLine={symbol:"none",data:[{xAxis:r,lineStyle:{type:"dashed",color:"black",width:2},label:{formatter:r.split(" ")[0]||"",position:"Bottom"}}]},t.x.forEach((function(e){e.split(" ")[0]!==r.split(" ")[0]&&(r=e,n.series[0].markLine.data.push({xAxis:r,lineStyle:{type:"dashed",color:"black",width:2},label:{formatter:r.split(" ")[0]||"",position:"Bottom"}}))}))}n&&i.setOption(n),i.on("dataZoom",a)},drawSnpPiePlot=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=document.getElementById(e);echarts.init(o).dispose();var n,i=echarts.init(o,null,{renderer:"svg"});n={tooltip:{trigger:"item"},toolbox:{show:!0,x:500,y:30,feature:{dataView:{show:!0,title:"Data view",lang:["Data view","close","refresh"]},saveAsImage:{show:!0,name:"chart"}}},color:["#1F77B4","#FF7F0e","#2CA02C","#D62728","#9467BD","#8C564B","#E377C2"],legend:{type:"scroll",orient:"vertical",x:"left",height:100},series:[{type:"pie",radius:"50%",data:t,center:["60%","50%"],label:{show:!0,position:"outside",formatter:"{d}%"}}]},a&&(n.series[0].label.position="inside"),n&&i.setOption(n)},drawSubpopBarPlot=function(e,t){console.log(t);var a=["#1F77B4","#FF7F0e","#2CA02C","#D62728","#9467BD","#8C564B","#E377C2","#7F7F7F","#BCBD22","#17BECF"],o=document.getElementById(e);echarts.init(o).dispose();var n,i=echarts.init(o,null,{renderer:"svg"}),r=[];return t.y.forEach((function(e,t){r.push({name:e.name,type:"bar",stack:"total",label:{show:!0},itemStyle:{color:a[t]},data:e.value})})),(n={tooltip:{trigger:"axis"},legend:{show:!0,type:"scroll"},xAxis:{type:"category",data:t.x,axisLabel:{interval:0,width:100,overflow:"break"}},yAxis:{type:"value",name:"Proportion",nameTextStyle:{fontWeight:"bold"},min:0,max:1},series:r})&&i.setOption(n),i},drawRegionBarPlot=function(e,t){var a=["#1F77B4","#FF7F0e","#2CA02C","#D62728","#9467BD","#8C564B","#E377C2","#7F7F7F","#BCBD22","#17BECF"],o=document.getElementById(e);echarts.init(o).dispose();var n,i=echarts.init(o,null,{renderer:"svg"}),r=[];return t.y.forEach((function(e,t){r.push({name:e.name,type:"bar",stack:"total",label:{show:!0},itemStyle:{color:a[t]},data:e.value})})),(n={tooltip:{trigger:"axis"},legend:{show:!0,type:"scroll"},xAxis:{type:"category",data:t.x,axisLabel:{interval:0,width:100,overflow:"break"}},yAxis:{type:"value"},series:r})&&i.setOption(n),i},drawTranscriptomicsSummaryPlot=function(e,t,a){for(var o,n=t.x_data.split(","),i=t.y_data.split(","),r=t.sub_x_data.reverse(),l=t.sub_y_data.reverse(),s=t.sub_info_data,d=[],c=0;c<n.length;c++)d.push([n[c],i[c]]);o=0===Math.max.apply(null,r)?"Min"!==a?.2:5:2*Math.max.apply(Math,_toConsumableArray(r))/Math.max.apply(Math,_toConsumableArray(n))*100;var p=document.getElementById(e);echarts.init(p).dispose();var u,m=echarts.init(p,null,{renderer:"svg"});(u={tooltip:{trigger:"axis",axisPointer:{type:"cross"},formatter:function(e){if(e.length>1){if("AT"!==e[0].axisValue.substr(0,2)){var t=e[0].axisValue;return"Gene ID: ".concat(t,"<br>").concat(a,"_TPM: ").concat(e[0].value,"<br>Greater than ").concat(s[t].count,"% of genes<br>Detected in ").concat(s[t].Expressed_tissues," tissue<br>Max Tissue: ").concat(s[t].Max_tissue)}return""}if(1==e.length)return"".concat(a,"_TPM: ").concat(e[0].value[0],"<br>Density: ").concat(e[0].value[1])}},axisPointer:{link:{xAxisIndex:"all"},label:{backgroundColor:"#777"}},grid:[{bottom:"52%"},{top:"50%"}],xAxis:[{type:"value",boundaryGap:!1,name:"".concat(a,"_TPM"),nameTextStyle:{fontWeight:"bold"},scale:!0,splitLine:{show:!1},min:"dataMin",max:"dataMax",gridIndex:0},{type:"value",boundaryGap:!1,scale:!0,splitLine:{show:!1},min:Math.min.apply(Math,_toConsumableArray(n)),max:Math.max.apply(Math,_toConsumableArray(n)),gridIndex:1}],yAxis:[{type:"value",name:"Density",nameTextStyle:{fontWeight:"bold"},axisLine:{onZero:!1},axisTick:{show:!1},splitLine:{show:!1},gridIndex:0},{type:"category",axisTick:{show:!1},splitLine:{show:!1},axisLabel:{show:!1},data:l,gridIndex:1}],dataZoom:[{type:"inside",filterMode:"none",start:0,end:o,minSpan:.1,xAxisIndex:[0,1]},{type:"slider",start:0,end:o,minSpan:.1,xAxisIndex:[0,1]}],series:[{data:d,type:"line",areaStyle:{},xAxisIndex:0,yAxisIndex:0,smooth:!0,symbol:"none",sampling:"lttb"},{name:"detail",type:"bar",xAxisIndex:1,yAxisIndex:1,data:r}]})&&m.setOption(u)},drawTranscriptomicsHeatmapPlot=function(e,t){var a=document.getElementById(e);echarts.init(a).dispose();var o,n=echarts.init(a,null,{renderer:"svg"});t.min===t.max&&(t.max=t.min+1),(o={grid:{left:"5%",top:"0",bottom:"0",containLabel:!0},xAxis:{type:"category",data:t.x,splitArea:{show:!0},axisLabel:{show:!0,interval:0,rotate:25,fontWeight:"bold"}},yAxis:{type:"category",data:t.y,splitArea:{show:!1},axisLabel:{show:!1},axisTick:{show:!1},axisLine:{show:!1},splitLine:{show:!1}},visualMap:{min:t.min,max:t.max,orient:"vertical",precision:3,top:20,right:25,inRange:{color:["#355F8D","#2CA981","#F1E628"]}},tooltip:{show:!0,formatter:function(e){var a=e.name;return["".concat(t.type,"(").concat("TPM","): ").concat(e.data[2]),"Gene: ".concat(t.y[e.data[1]]),"Tissue: ".concat(a),"Sample Name(Max ".concat("TPM","): ").concat(t.maxTissue[t.y[e.data[1]]][a]),"Sample number: ".concat(t.sampleNumber[t.y[e.data[1]]][a])].join("<br>")}},series:[{type:"heatmap",data:t.heatmapData,itemStyle:{borderWidth:.5,borderColor:"#F1F1F1"},emphasis:{itemStyle:{shadowBlur:10,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]})&&n.setOption(o)},drawTranscriptomicsAllHeatmapPlot=function(e,t){var a=document.getElementById(e);echarts.init(a).dispose();var o,n=echarts.init(a,null,{renderer:"svg"});t.min===t.max&&(t.max=t.min+1),(o={grid:{left:"5%",top:"0",bottom:"0",containLabel:!0},xAxis:{type:"category",data:t.x,splitArea:{show:!0},axisLabel:{show:!0,interval:0,rotate:25,fontWeight:"bold"}},yAxis:{type:"category",data:t.y,splitArea:{show:!1},axisLabel:{show:!0},axisTick:{show:!1},axisLine:{show:!1},splitLine:{show:!1}},visualMap:{min:t.min,max:t.max,orient:"vertical",precision:3,top:20,right:25,inRange:{color:["#355F8D","#2CA981","#F1E628"]}},tooltip:{show:!0,formatter:function(e){var a=e.name;return["".concat(t.type,"(").concat("TPM","): ").concat(e.data[2]),"Gene: ".concat(t.y[e.data[1]]),"Tissue: ".concat(a),"Sample Name(Max ".concat("TPM","): ").concat(t.maxTissue[t.y[e.data[1]]][a]),"Sample number: ".concat(t.sampleNumber[t.y[e.data[1]]][a])].join("<br>")}},series:[{type:"heatmap",data:t.heatmapData,itemStyle:{borderWidth:.5,borderColor:"#F1F1F1"},emphasis:{itemStyle:{shadowBlur:10,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]})&&n.setOption(o)},drawTranscriptomicsLinePlot=function(e,t){var a=document.getElementById(e);echarts.init(a).dispose();var o,n=echarts.init(a,null,{renderer:"svg"}),i=[];t.data.forEach((function(e){var t=(e=_toConsumableArray(e)).shift();i.push({name:t,type:"line",data:e})})),(o={legend:{show:!0},tooltip:{trigger:"axis"},dataZoom:{type:"inside"},toolbox:{feature:{saveAsImage:{show:!0}}},xAxis:{type:"category",boundaryGap:!1,data:t.x,axisLabel:{rotate:30}},yAxis:{type:"value"},series:i})&&n.setOption(o)},twodrawTranscriptomicsLinePlot=function(e,t,a){console.log("hhh"),console.log(a.name);var o=a.y.length;if(o>26){var n=475+20*(o-26)+"px";document.getElementById(e).style.height=n}if(o>500){var i=475+2*(o-500)+"px";document.getElementById(t).style.height=i}var r=document.getElementById(e),l=document.getElementById(t);echarts.init(r).dispose(),echarts.init(l).dispose();var s,d,c=echarts.init(r),p=echarts.init(l),u=[];a.data1.forEach((function(e){var t=(e=_toConsumableArray(e)).shift();u.push({name:t,type:"line",data:e,label:{show:!1}})})),console.log(a.data1),console.log(u),s={grid:{left:"20%",right:"25%",bottom:"0%"},toolbox:{feature:{saveAsImage:{show:!0}},top:"5%"},title:{show:!0,text:a.name,right:"5%",textStyle:{fontWeight:"normal",fontSize:12}},tooltip:{position:"top",formatter:function(e){return"x: ".concat(e.name,"<br>y: ").concat(a.y[e.data[1]],"<br>value: ").concat(e.data[2])}},dataZoom:[{type:"inside"},{show:!1,type:"slider",bottom:"0%"},console.log(a.data.length),console.log(15/a.data.length*100)],xAxis:{type:"category",data:a.x,splitArea:{show:!0},axisLabel:{show:!1,margin:20}},yAxis:_defineProperty({type:"category",data:a.y,splitArea:{show:!0}},"splitArea",{show:!0}),visualMap:{min:Math.min.apply(null,a.value),max:Math.max.apply(null,a.value),calculable:!0,orient:"horizontal",inRange:{color:["#355F8D","#2CA981","#F1E628"]},top:"2%",right:"5%",precision:4},series:[{name:"TPM(normal)",type:"heatmap",data:a.data,label:{show:!1},emphasis:{itemStyle:{shadowBlur:10,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]},d={grid:{left:"20%",right:"25%",bottom:"20%",top:"3%"},legend:{show:!0,orient:"vertical",right:"5%",type:"scroll",top:"center"},tooltip:{trigger:"axis"},toolbox:{feature:{saveAsImage:{show:!0}},top:"5%"},dataZoom:[{show:!1,type:"inside"},{show:!0,type:"slider"}],xAxis:{type:"category",boundaryGap:!1,data:a.x,axisLabel:{show:!0,margin:20},splitArea:{show:!0}},yAxis:{type:"value",name:a.name,nameTextStyle:{fontSize:16,padding:[0,0,-200,-150]},splitArea:{show:!0}},series:u},s&&c.setOption(s),d&&p.setOption(d),c.on("click",(function(e){document.getElementById("resubmit").style.display="block",console.log(e.name);var t=$("#samples_info_table_page").DataTable();t.column(1).search(e.name,!0,!1);var a=t.rows({search:"applied"}).data();console.log(a);var o=$("#samples_info_table_page1").DataTable(),n=o.data(),i=[];for(var r in n){var l=n[r].SRR;l&&!i.includes(l)&&i.push(l)}console.log(a),i.includes(a[0].SRR)||o.rows.add(a).draw(),t.columns().search("").draw()})),echarts.connect([c,p])},drawTranscriptomicsboxPlot=function(e,t){var a=document.getElementById(e);echarts.init(a).dispose();var o,n=echarts.init(a,null,{renderer:"svg"});console.log(t.data.length),(o={legend:{show:!0},dataset:[{source:t.data},{transform:{type:"boxplot",config:{itemNameFormatter:function(e){return t.x[e.value]}}}},{fromDatasetIndex:1,fromTransformResult:1}],tooltip:{trigger:"item",axisPointer:{type:"shadow"},formatter:function(e){return"boxplot"===e.seriesName?[e.data[0],"Max: "+e.data[5],"Q3: "+e.data[4],"Median: "+e.data[3],"Q1: "+e.data[2],"Min: "+e.data[1]].join("<br/>"):[e.seriesName,e.data[0]+" "+e.data[1]].join("<br/>")}},dataZoom:{type:"inside"},toolbox:{feature:{saveAsImage:{show:!0}}},grid:{left:"8%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!0,nameGap:30,splitArea:{show:!1},splitLine:{show:!1},axisLabel:{rotate:30}},yAxis:{type:"value",name:"TPM",nameTextStyle:{fontSize:16,padding:[0,0,-200,-150]},splitArea:{show:!0}},series:[{name:"boxplot",type:"boxplot",datasetIndex:1},{name:"outlier",type:"scatter",datasetIndex:2}]})&&n.setOption(o)},drawmutilTranscriptomicsboxPlot=function(e,t){var a=document.getElementById(e);echarts.init(a).dispose();for(var o,n=echarts.init(a,null,{renderer:"svg"}),i=[],r=t.data,l=0;l<r.length;l++)for(var s=0;s<r[l].length;s++){var d=t.x[l],c=r[l][s];i.push([d,c])}(o={legend:{show:!0},dataset:[{source:t.data},{transform:{type:"boxplot",config:{itemNameFormatter:function(e){return t.x[e.value]}}}},{fromDatasetIndex:1,fromTransformResult:1}],tooltip:{trigger:"item",axisPointer:{type:"shadow"},formatter:function(e){return"boxplot"===e.seriesName?[e.data[0],"Max: "+e.data[5],"Q3: "+e.data[4],"Median: "+e.data[3],"Q1: "+e.data[2],"Min: "+e.data[1]].join("<br/>"):[e.seriesName,e.data[0]+" "+e.data[1]].join("<br/>")}},dataZoom:{type:"inside"},toolbox:{feature:{saveAsImage:{show:!0}}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!0,nameGap:30,splitArea:{show:!1},splitLine:{show:!1},axisLabel:{rotate:30}},yAxis:{type:"value",splitArea:{show:!0}},series:[{name:"boxplot",type:"boxplot",datasetIndex:1},{name:"outlier",type:"scatter",datasetIndex:2},{name:"point",type:"scatter",data:i,datasetIndex:3,itemStyle:{color:"blue"}}]})&&n.setOption(o)},drawTranscriptomicsPlot=function(e,t){var a=document.getElementById(e);echarts.init(a).dispose();var o,n=echarts.init(a,null,{renderer:"svg"});(o={title:{show:!0,text:"pcc",right:"5%",textStyle:{fontWeight:"normal",fontSize:12}},tooltip:{position:"top",formatter:function(e){return"x: ".concat(e.name,"<br>y: ").concat(t.y[e.data[1]],"<br>value: ").concat(e.data[2])}},dataZoom:[{type:"inside"},{type:"slider",bottom:"10%"}],toolbox:{feature:{saveAsImage:{show:!0}},right:"20"},grid:{bottom:"20%",top:"10%",left:"15%",right:"10%"},xAxis:{type:"category",data:t.x,splitArea:{show:!0}},yAxis:{type:"category",data:t.y,splitArea:{show:!0}},visualMap:{min:0,max:30,calculable:!0,orient:"horizontal",inRange:{color:["#355F8D","#2CA981","#F1E628"]},top:"2%",right:"5%",precision:4},series:[{name:"PCC",type:"heatmap",data:t.data,label:{show:!1},emphasis:{itemStyle:{shadowBlur:10,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]})&&n.setOption(o)},drawTranscriptomicsLibLinePlot=function(e,t){var a=document.getElementById(e);echarts.init(a).dispose();var o,n=echarts.init(a,null,{renderer:"svg"});(o={title:{text:t.title,left:"center",top:"6%"},tooltip:{trigger:"axis",formatter:function(e){return"TPM: ".concat(e[0].value,"<br>").concat(t.info[e[0].axisValue])}},dataZoom:[{type:"inside"},{type:"slider",bottom:"6%"}],toolbox:{feature:{saveAsImage:{show:!0}},right:"20"},grid:{bottom:"10%",left:"5%",right:"5%",top:"20%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:t.x,show:!1,silent:!1,splitLine:{show:!1},splitArea:{show:!1}},yAxis:{type:"value",name:"TPM"},series:[{data:t.y,type:"line"}]})&&n.setOption(o)},drawmutilTranscriptomicsLinePlot=function(e,t){var a=document.getElementById(e);echarts.init(a).dispose();var o,n=echarts.init(a,null,{renderer:"svg"});(o={title:{text:t.title,left:"center",top:"6%"},tooltip:{trigger:"axis"},dataZoom:[{type:"inside"}],toolbox:{feature:{saveAsImage:{show:!0}},right:"20"},grid:{bottom:"10%",left:"5%",right:"5%",top:"20%",containLabel:!0},xAxis:{type:"category",boundaryGap:!0,data:t.x,nameGap:30,splitArea:{show:!1},splitLine:{show:!1},axisLabel:{rotate:30}},yAxis:{type:"value",name:"TPM"},series:[{data:t.y,type:"line"}]})&&n.setOption(o)},drawCoExpNetworkPlot=function(e,t){var a;t.categories=[{name:"Target Gene"},{name:"Gene"}],t.nodes.forEach((function(e){e.symbolSize>10&&(e.label={show:!0},e.itemStyle={borderColor:"#000"})}));var o=document.getElementById(e);echarts.init(o).dispose();var n,i=echarts.init(o,null,{renderer:"svg"});n={toolbox:{show:!0,feature:{saveAsImage:{show:!0,name:"co expression",title:"save",pixelRatio:10}}},tooltip:{backgroundColor:"rgba(255,255,255,0.7)",formatter:function(e){var t=e.data;return"node"===e.dataType?"<div>name: "+t.name+("-"===t.meta?"":"("+t.meta+")")+"</div>":"pos"==t.type||"neg"==t.type||"lnc"==t.type?t.source+"<---\x3e"+t.target+"<br>PCC:"+t.PCC:t.source+"---\x3e"+t.target+"<br>PCC:"+t.PCC}},series:[{type:"graph",layout:"force",animation:!1,draggable:!1,data:t.nodes,links:t.links,categories:t.categories,roam:!0,label:{formatter:"{b}"},scaleLimit:{min:.1,max:20},lineStyle:(a={color:"source",curveness:0},_defineProperty(a,"color","#a8a8a8"),_defineProperty(a,"width","1.5"),a),zoom:4,avoidLabelOverlap:!0,emphasis:{focus:"adjacency",lineStyle:{width:10}},force:{edgeLength:40,repulsion:100,gravity:1,layoutAnimation:!1}}]},i.on("click",(function(e){if(e.color){var t=e.data.name;console.log(t),window.open("/AMIR/search/index.html?id=".concat(t))}})),n&&i.setOption(n)},drawTfNetworkPlot=function(e,t){t.node.forEach((function(e){"#D53A35"===e.itemStyle.color?(e.label={show:!0},e.category="TF"):e.category="Target"}));var a=document.getElementById(e);echarts.init(a).dispose();var o,n=echarts.init(a,null,{renderer:"svg"});o={toolbox:{show:!0,feature:{saveAsImage:{show:!0,name:"download",title:"save",pixelRatio:10}}},tooltip:{show:!0},legend:{left:"2%",data:[{name:"TF",itemStyle:{color:"#D53A35"}},{name:"Target",itemStyle:{color:"#2F4554"}}]},series:[{type:"graph",layout:"force",animation:!1,draggable:!1,data:t.node,links:t.link,edgeSymbol:["circle","arrow"],categories:[{name:"TF"},{name:"Target"}],roam:!0,scaleLimit:{min:.1,max:20},lineStyle:{curveness:0,color:"#a8a8a8",width:"1.5"},zoom:4,avoidLabelOverlap:!0,emphasis:{focus:"adjacency",lineStyle:{width:10}},force:{edgeLength:40,repulsion:100,gravity:1,layoutAnimation:!1}}]},n.on("click",(function(e){if(e.color){var t=e.data.name;console.log(t),window.open("/AMIR/search/index.html?id=".concat(t))}})),o&&n.setOption(o)},drawGwasManhattanPlot=function(e,t,a){var o=document.getElementById(e);echarts.init(o).dispose();var n,i=echarts.init(o,null,{renderer:"svg"});n={grid:{left:"3%",right:"5%",top:"15%",bottom:"30%"},tooltip:{padding:10,axisPointer:{type:"cross"},formatter:function(e){var t=e.value,a=["Region: ","-Log<sub>10</sub>(<i>p</i> value): ","Marker: "];return'<div style="border-bottom: 1px solid #222222; font-size: 18px;padding-bottom: 7px;margin-bottom: 7px"><span style="float:left;background-color: '+e.color+';width:10px;height:10px;border-radius: 50%;margin-top: 5px;margin-right: 5px;"></span>'+a[0]+t[0]+"</div>"+a[1]+t[1]+"<br>"+a[2]+t[2]+"<br>"}},dataZoom:[{type:"inside",bottom:"10%"},{type:"slider",bottom:"10%"}],toolbox:{feature:{saveAsImage:{show:!0,name:"GWAS"}}},xAxis:{data:t.x,type:"category",axisPointer:{},name:"Mb",nameTextStyle:{fontSize:14},splitLine:{show:!1}},yAxis:{type:"value",name:"{a|-Log}{b|10}{a|(}{c|p}{a| value}{a|)}",nameLocation:"end",nameGap:20,axisLine:{show:!0},axisTick:{show:!0},nameTextStyle:{padding:[0,0,0,22],rich:{a:{fontSize:15},b:{fontSize:10,padding:[10,0,0,0]},c:{fontSize:15,fontStyle:"italic"}}},splitLine:{show:!1}},visualMap:[{orient:"horizontal",top:"77%",left:"0",itemWidth:9,dimension:3,categories:t.chrs,inRange:{color:t.chrsColor,symbol:{"":"circle"}}}],series:[{name:"man",type:"bar",barWidth:"100%",data:t.data},{name:"line",type:"line",hoverAnimation:!1,animation:!1,markLine:{symbol:["circle","none"],silent:!0,precision:2,itemStyle:{normal:{show:!0,color:"#2F4554"}},label:{distance:30,position:"end"},data:[{yAxis:t.threshold}]}}]},i.on("click",(function(e){a.call(this,e)})),n&&i.setOption(n)},drawGwasSigScatterPlot=function(e,t,a){var o=document.getElementById(e);echarts.init(o).dispose();var n,i=echarts.init(o,null,{renderer:"svg"});n={xAxis:{type:"value",min:t.x_min,max:t.x_max,name:"Mb",nameGap:30,axisLine:{show:!0,onZero:!1},axisTick:{show:!0},splitLine:{show:!1}},yAxis:{type:"value",min:t.y_min,name:"-lg(P)",axisLine:{show:!0,onZero:!1},axisTick:{show:!0},splitLine:{show:!1}},grid:{left:"5%",right:"5%",bottom:"25%"},title:{text:"{a|r}{b|2}",right:30,top:45,textStyle:{rich:{a:{fontSize:19},b:{fontSize:10,padding:[0,0,10,0]}}}},legend:{orient:"vertical",show:!0,data:["Lead SNP","0.8-1","0.6-0.8","0.4-0.6","0.2-0.4","0-0.2"],left:"right",padding:[75,0,0,0]},tooltip:{padding:10,formatter:function(e){return e.data[2]}},dataZoom:[{type:"inside"},{type:"slider",bottom:"13%"}],toolbox:{feature:{saveAsImage:{show:!0}},right:"3%"},series:[{name:"0-0.2",data:t.data["0-0.2"],itemStyle:{opacity:.7,color:"#588BBB"},type:"scatter"},{name:"0.2-0.4",data:t.data["0.2-0.4"],itemStyle:{opacity:.7,color:"#9ABEAF"},type:"scatter"},{name:"0.4-0.6",data:t.data["0.4-0.6"],itemStyle:{opacity:.7,color:"#FEE890"},type:"scatter"},{name:"0.6-0.8",data:t.data["0.6-0.8"],itemStyle:{opacity:.7,color:"#ED9E66"},type:"scatter"},{name:"0.8-1",data:t.data["0.8-1"],itemStyle:{opacity:.7,color:"#D53329"},type:"scatter"},{name:"Lead SNP",symbol:"diamond",symbolSize:15,data:t.data["Lead SNP"],itemStyle:{opacity:.7,color:"#7D26CD"},type:"scatter"}]},i.on("dataZoom",(function(e){a.call(this,e,t.chr)})),n&&i.setOption(n)},drawKeggScatterPlot=function drawKeggScatterPlot(chartID,data){var label_dir={},y_data=[],series_data=[],infos={},des_col_num=3,generadio_col_num=5,p_col_num=4,counts_col_num=2;for(var key in console.log(data[3]),data.sort((function(a,b){return eval(a[generadio_col_num])-eval(b[generadio_col_num])})),data){var padj=-Math.log10(parseFloat(data[key][p_col_num])),gene_counts=parseInt(data[key][counts_col_num]);if(0==key)var p_min=padj,p_max=padj,gene_counts_min=gene_counts,gene_counts_max=gene_counts;else padj<p_min&&(p_min=padj),padj>p_max&&(p_max=padj),gene_counts<gene_counts_min&&(gene_counts_min=gene_counts),gene_counts>gene_counts_max&&(gene_counts_max=gene_counts);var y_label=data[key][des_col_num];y_data.includes(y_label)?(label_dir[y_label]++,y_label="".concat(y_label,"(").concat(label_dir[y_label],")")):label_dir[y_label]=1,y_data.push(y_label),series_data.push([eval(data[key][generadio_col_num]),y_label,padj,gene_counts]),infos[y_label]=data[key]}for(var legend_data=[],i=0;i<3;i++){var name=5*Math.round((Math.round((gene_counts_max-gene_counts_min)/3)*i+gene_counts_min)/5);name=0==name?1:name;var size=5+Math.round((name-gene_counts_min)/(gene_counts_max-gene_counts_min)*15);legend_data.push([name,size])}var chartDom=document.getElementById(chartID);echarts.init(chartDom).dispose();var myChart=echarts.init(chartDom,null,{renderer:"svg"}),option;option={title:{right:"2%",top:"40%",text:["Count","{legend1|} {text1|"+legend_data[0][0]+"}","{legend2|} {text2|"+legend_data[1][0]+"}","{legend3|} {text3|"+legend_data[2][0]+"}"].join("\n\n"),textStyle:{fontSize:13,fontWeight:"normal",rich:{legend1:{borderRadius:legend_data[0][1],width:legend_data[0][1],height:legend_data[0][1],backgroundColor:"black"},legend2:{borderRadius:legend_data[1][1],width:legend_data[1][1],height:legend_data[1][1],backgroundColor:"black"},legend3:{borderRadius:legend_data[2][1],width:legend_data[2][1],height:legend_data[2][1],backgroundColor:"black"}}}},grid:{width:"60%",left:"25%"},toolbox:{feature:{saveAsImage:{title:"save as png",name:"download"}},right:"3%"},dataZoom:[{type:"slider",yAxisIndex:0,filterMode:"none",left:"8%",start:y_data.length<40?0:100-40/y_data.length*100,end:100},{type:"inside",yAxisIndex:0,filterMode:"none",start:y_data.length<40?0:100-40/y_data.length*100,end:100}],tooltip:{formatter:function(e){var t=infos[e.name];return"<b>ID:</b> ".concat(t[1],"<br><b>Description:</b> ").concat(t[3],"<br><b>GeneRatio:</b> ").concat(t[5],"<br>\n              <b>BgRatio:</b> ").concat(t[6],"<br><b>pvalue:</b> ").concat(t[4],"<br><b>FDR:</b> ").concat(t[8],"<br><b>Count:</b> ").concat(t[2])},extraCssText:"max-width:500px;white-space: normal;"},visualMap:{type:"continuous",min:p_min,max:p_max,dimension:2,orient:"vertical",right:10,top:"10%",precision:3,calculable:!1,inRange:{color:["#355F8D","#2CA981","#F1E628"]},text:["-log10(p.adjust)",""]},xAxis:{type:"value",name:"GeneRadio",nameLocation:"center",nameGap:25},yAxis:{type:"category",axisLabel:{width:200,overflow:"truncate"},data:y_data},series:[{data:series_data,type:"scatter",symbolSize:function(e){return 5+Math.round((e[3]-gene_counts_min)/(gene_counts_max-gene_counts_min)*15)}}]},option&&myChart.setOption(option)},drawKeggBarPlot=function drawKeggBarPlot(chartID,data){var dataset=[],y_data=[],label_dir={},infos={},des_col_num=3,p_col_num=4,counts_col_num=2;for(var key in data.sort((function(a,b){return eval(b[p_col_num])-eval(a[p_col_num])})),data){var padj=-Math.log10(parseFloat(data[key][p_col_num])),gene_counts=parseInt(data[key][counts_col_num]);if(0==key)var p_min=padj,p_max=padj;else padj<p_min&&(p_min=padj),padj>p_max&&(p_max=padj);var y_label=data[key][des_col_num];y_data.includes(y_label)?(label_dir[y_label]++,y_label="".concat(y_label,"(").concat(label_dir[y_label],")")):label_dir[y_label]=1,y_data.push(y_label),dataset.push([y_label,gene_counts,padj]),infos[y_label]=data[key]}var chartDom=document.getElementById(chartID);echarts.init(chartDom).dispose();var myChart=echarts.init(chartDom,null,{renderer:"svg"}),option;option={grid:{width:"60%",left:"25%"},toolbox:{feature:{saveAsImage:{title:"save as png",name:"download"}},right:"3%"},tooltip:{formatter:function(e){var t=infos[e.value[0]];return"<b>ID:</b> ".concat(t[1],"<br><b>Description:</b> ").concat(t[3],"<br><b>GeneRatio:</b> ").concat(t[5],"<br>\n        <b>BgRatio:</b> ").concat(t[6],"<br><b>pvalue:</b> ").concat(t[4],"<br><b>FDR:</b> ").concat(t[8],"<br><b>Count:</b> ").concat(t[2])},extraCssText:"max-width:500px;white-space: normal;"},dataset:{source:dataset},dataZoom:[{type:"slider",yAxisIndex:0,filterMode:"none",left:"8%",start:y_data.length<40?0:100-40/y_data.length*100,end:100},{type:"inside",yAxisIndex:0,filterMode:"none",start:y_data.length<40?0:100-40/y_data.length*100,end:100}],xAxis:{type:"value",name:"Count",nameLocation:"center",nameGap:25},yAxis:{type:"category",axisLabel:{width:200,overflow:"truncate"}},visualMap:{type:"continuous",min:p_min,max:p_max,dimension:2,orient:"vertical",right:10,top:"10%",precision:3,calculable:!1,inRange:{color:["#355F8D","#2CA981","#F1E628"]},text:["-log10(p.adjust)",""]},series:[{type:"bar",encode:{x:1,y:0}}]},option&&myChart.setOption(option)},drawGoScatterPlot=function drawGoScatterPlot(chartID,data){var label_dir={BP:{},MF:{},CC:{}},y_data={BP:[],MF:[],CC:[]},series_data={BP:[],MF:[],CC:[]},infos={},des_col_num=2,generadio_col_num=3,p_col_num=6,counts_col_num=9,first_key={BP:0,MF:0,CC:0},p_min={},p_max={},gene_counts_min={},gene_counts_max={};for(var ontology in data)for(var key in data[ontology].sort((function(a,b){return eval(a[generadio_col_num])-eval(b[generadio_col_num])})),data[ontology]){var padj=-Math.log10(parseFloat(data[ontology][key][p_col_num])),gene_counts=parseInt(data[ontology][key][counts_col_num]);0==first_key[ontology]?(p_min[ontology]=padj,p_max[ontology]=padj,gene_counts_min[ontology]=gene_counts,gene_counts_max[ontology]=gene_counts,first_key[ontology]=1):(padj<p_min[ontology]&&(p_min[ontology]=padj),padj>p_max[ontology]&&(p_max[ontology]=padj),gene_counts<gene_counts_min[ontology]&&(gene_counts_min[ontology]=gene_counts),gene_counts>gene_counts_max[ontology]&&(gene_counts_max[ontology]=gene_counts));var y_label=data[ontology][key][des_col_num];y_data[ontology].includes(y_label)?(label_dir[ontology][y_label]++,y_label="".concat(y_label,"(").concat(label_dir[ontology][y_label],")")):label_dir[ontology][y_label]=1,y_data[ontology].push(y_label),series_data[ontology].push([eval(data[ontology][key][generadio_col_num]),y_label,padj,gene_counts]),infos[y_label]=data[ontology][key]}var legend_data={BP:[],MF:[],CC:[]};for(var _ontology in legend_data)for(var i=0;i<3;i++){var name=5*Math.round((Math.round((gene_counts_max[_ontology]-gene_counts_min[_ontology])/3)*i+gene_counts_min[_ontology])/5);name=0==name?1:name;var size=5+Math.round((name-gene_counts_min[_ontology])/(gene_counts_max[_ontology]-gene_counts_min[_ontology])*15);legend_data[_ontology].push([name,size])}var chartDom=document.getElementById(chartID);echarts.init(chartDom).dispose();var myChart=echarts.init(chartDom,null,{renderer:"svg"}),option,visualMap_data=[];for(var _ontology2 in y_data)"BP"==_ontology2&&y_data[_ontology2].length>0&&visualMap_data.push({type:"continuous",min:p_min.BP,max:p_max.BP,dimension:2,orient:"vertical",left:"30%",top:"10%",precision:3,calculable:!1,inRange:{color:["#355F8D","#2CA981","#F1E628"]},text:["-lg(p.adj)",""],seriesIndex:0}),"MF"==_ontology2&&y_data[_ontology2].length>0&&visualMap_data.push({type:"continuous",min:p_min.MF,max:p_max.MF,dimension:2,orient:"vertical",left:"63%",top:"10%",precision:3,calculable:!1,inRange:{color:["#355F8D","#2CA981","#F1E628"]},text:["-lg(p.adj)",""],seriesIndex:1}),"CC"==_ontology2&&y_data[_ontology2].length>0&&visualMap_data.push({type:"continuous",min:p_min.CC,max:p_max.CC,dimension:2,orient:"vertical",left:"95%",top:"10%",precision:3,calculable:!1,inRange:{color:["#355F8D","#2CA981","#F1E628"]},text:["-lg(p.adj)",""],seriesIndex:2});option={title:[{left:"30.5%",top:"35%",text:["Count","{legend1|} {text1|"+legend_data.BP[0][0]+"}","{legend2|} {text2|"+legend_data.BP[1][0]+"}","{legend3|} {text3|"+legend_data.BP[2][0]+"}"].join("\n\n"),textStyle:{fontSize:13,fontWeight:"normal",fontColor:"#ccc",rich:{legend1:{borderRadius:legend_data.BP[0][1],width:legend_data.BP[0][1],height:legend_data.BP[0][1],backgroundColor:"#ccc"},legend2:{borderRadius:legend_data.BP[1][1],width:legend_data.BP[1][1],height:legend_data.BP[1][1],backgroundColor:"#ccc"},legend3:{borderRadius:legend_data.BP[2][1],width:legend_data.BP[2][1],height:legend_data.BP[2][1],backgroundColor:"#ccc"}}}},{left:"20%",text:"BP",top:"4%"},{left:"63.5%",top:"35%",text:["Count","{legend1|} {text1|"+legend_data.MF[0][0]+"}","{legend2|} {text2|"+legend_data.MF[1][0]+"}","{legend3|} {text3|"+legend_data.MF[2][0]+"}"].join("\n\n"),textStyle:{fontSize:13,fontWeight:"normal",fontColor:"#ccc",rich:{legend1:{borderRadius:legend_data.MF[0][1],width:legend_data.MF[0][1],height:legend_data.MF[0][1],backgroundColor:"#ccc"},legend2:{borderRadius:legend_data.MF[1][1],width:legend_data.MF[1][1],height:legend_data.MF[1][1],backgroundColor:"#ccc"},legend3:{borderRadius:legend_data.MF[2][1],width:legend_data.MF[2][1],height:legend_data.MF[2][1],backgroundColor:"#ccc"}}}},{left:"54%",text:"MF",top:"4%"},{left:"95.5%",top:"35%",text:["Count","{legend1|} {text1|"+legend_data.CC[0][0]+"}","{legend2|} {text2|"+legend_data.CC[1][0]+"}","{legend3|} {text3|"+legend_data.CC[2][0]+"}"].join("\n\n"),textStyle:{fontSize:13,fontWeight:"normal",fontColor:"#ccc",rich:{legend1:{borderRadius:legend_data.CC[0][1],width:legend_data.CC[0][1],height:legend_data.CC[0][1],backgroundColor:"#ccc"},legend2:{borderRadius:legend_data.CC[1][1],width:legend_data.CC[1][1],height:legend_data.CC[1][1],backgroundColor:"#ccc"},legend3:{borderRadius:legend_data.CC[2][1],width:legend_data.CC[2][1],height:legend_data.CC[2][1],backgroundColor:"#ccc"}}}},{left:"86%",text:"CC",top:"4%"}],grid:[{left:"15%",width:"15%",show:!0,borderColor:"black"},{left:"48%",width:"15%",show:!0,borderColor:"black"},{left:"80%",width:"15%",show:!0,borderColor:"black"}],toolbox:{feature:{saveAsImage:{name:"download"}},right:"3%"},dataZoom:[{type:"slider",yAxisIndex:0,filterMode:"none",left:"1.5%",start:y_data.BP.length<40?0:100-40/y_data.BP.length*100,end:100},{type:"inside",yAxisIndex:0,filterMode:"none",start:y_data.BP.length<40?0:100-40/y_data.BP.length*100,end:100},{type:"slider",yAxisIndex:1,filterMode:"none",left:"34.5%",start:y_data.MF.length<40?0:100-40/y_data.MF.length*100,end:100},{type:"inside",yAxisIndex:1,filterMode:"none",start:y_data.MF.length<40?0:100-40/y_data.MF.length*100,end:100},{type:"slider",yAxisIndex:2,filterMode:"none",left:"67%",start:y_data.CC.length<40?0:100-40/y_data.CC.length*100,end:100},{type:"inside",yAxisIndex:2,filterMode:"none",start:y_data.CC.length<40?0:100-40/y_data.CC.length*100,end:100}],tooltip:{formatter:function(e){var t=infos[e.name];return"<b>ONTOLOGY:</b> ".concat(t[0],"<br><b>ID:</b> ").concat(t[1],"<br><b>Description:</b> ").concat(t[2],"<br><b>GeneRatio:</b> ").concat(t[3],"<br>\n              <b>BgRatio:</b> ").concat(t[4],"<br><b>pvalue:</b> ").concat(t[5],"<br><b>p.adjust:</b> ").concat(t[6],"<br><b>qvalue:</b> ").concat(t[7],"<br><b>Count:</b> ").concat(t[9])},extraCssText:"max-width:500px;white-space: normal;"},visualMap:visualMap_data,xAxis:[{type:"value",name:"GeneRadio",nameLocation:"center",nameGap:25,axisLine:{show:!1}},{type:"value",name:"GeneRadio",nameLocation:"center",nameGap:25,gridIndex:1,axisLine:{show:!1}},{type:"value",name:"GeneRadio",nameLocation:"center",nameGap:25,gridIndex:2,axisLine:{show:!1}}],yAxis:[{type:"category",axisLabel:{width:150,overflow:"truncate"},data:y_data.BP,axisLine:{show:!1}},{type:"category",axisLabel:{width:150,overflow:"truncate"},data:y_data.MF,gridIndex:1,axisLine:{show:!1}},{type:"category",axisLabel:{width:150,overflow:"truncate"},data:y_data.CC,gridIndex:2,axisLine:{show:!1}}],series:[{data:series_data.BP,type:"scatter",symbolSize:function(e){return 5+Math.round((e[3]-gene_counts_min.BP)/(gene_counts_max.BP-gene_counts_min.BP)*15)}},{data:series_data.MF,type:"scatter",symbolSize:function(e){return 5+Math.round((e[3]-gene_counts_min.MF)/(gene_counts_max.MF-gene_counts_min.MF)*15)},xAxisIndex:1,yAxisIndex:1},{data:series_data.CC,type:"scatter",symbolSize:function(e){return 5+Math.round((e[3]-gene_counts_min.CC)/(gene_counts_max.CC-gene_counts_min.CC)*15)},xAxisIndex:2,yAxisIndex:2}]},option&&myChart.setOption(option)},drawGoBarPlot=function drawGoBarPlot(chartID,data){var dataset={BP:[],MF:[],CC:[]},y_data={BP:[],MF:[],CC:[]},label_dir={BP:{},MF:{},CC:{}},infos={},des_col_num=2,p_col_num=6,counts_col_num=9,first_key={BP:0,MF:0,CC:0},p_min={},p_max={};for(var ontology in data)for(var key in data[ontology].sort((function(a,b){return eval(b[p_col_num])-eval(a[p_col_num])})),data[ontology]){var padj=-Math.log10(parseFloat(data[ontology][key][p_col_num])),gene_counts=parseInt(data[ontology][key][counts_col_num]);0==first_key[ontology]?(p_min[ontology]=padj,p_max[ontology]=padj,first_key[ontology]=1):(padj<p_min[ontology]&&(p_min[ontology]=padj),padj>p_max[ontology]&&(p_max[ontology]=padj));var y_label=data[ontology][key][des_col_num];y_data[ontology].includes(y_label)?(label_dir[ontology][y_label]++,y_label="".concat(y_label,"(").concat(label_dir[ontology][y_label],")")):label_dir[ontology][y_label]=1,y_data[ontology].push(y_label),dataset[ontology].push([y_label,gene_counts,padj]),infos[y_label]=data[ontology][key]}var chartDom=document.getElementById(chartID);echarts.init(chartDom).dispose();var myChart=echarts.init(chartDom,null,{renderer:"svg"}),option,visualMap_data=[];for(var _ontology3 in dataset)"BP"==_ontology3&&dataset[_ontology3].length>0&&visualMap_data.push({type:"continuous",min:p_min.BP,max:p_max.BP,dimension:2,orient:"vertical",left:"30%",top:"10%",precision:3,calculable:!1,inRange:{color:["#355F8D","#2CA981","#F1E628"]},text:["-lg(p.adj)",""],seriesIndex:0}),"MF"==_ontology3&&dataset[_ontology3].length>0&&visualMap_data.push({type:"continuous",min:p_min.MF,max:p_max.MF,dimension:2,orient:"vertical",left:"63%",top:"10%",precision:3,calculable:!1,inRange:{color:["#355F8D","#2CA981","#F1E628"]},text:["-lg(p.adj)",""],seriesIndex:1,hoverLink:!0}),"CC"==_ontology3&&dataset[_ontology3].length>0&&visualMap_data.push({type:"continuous",min:p_min.CC,max:p_max.CC,dimension:2,orient:"vertical",left:"95%",top:"10%",precision:3,calculable:!1,inRange:{color:["#355F8D","#2CA981","#F1E628"]},text:["-lg(p.adj)",""],seriesIndex:2,hoverLink:!0});option={title:[{left:"20%",text:"BP",top:"4%"},{left:"54%",text:"MF",top:"4%"},{left:"86%",text:"CC",top:"4%"}],grid:[{left:"15%",width:"15%",show:!0,borderColor:"black"},{left:"48%",width:"15%",show:!0,borderColor:"black"},{left:"80%",width:"15%",show:!0,borderColor:"black"}],dataset:[{source:dataset.BP},{source:dataset.MF},{source:dataset.CC}],toolbox:{feature:{saveAsImage:{name:"download"}},right:"3%"},tooltip:{formatter:function(e){var t=infos[e.value[0]];return"<b>ONTOLOGY:</b> ".concat(t[0],"<br><b>ID:</b> ").concat(t[1],"<br><b>Description:</b> ").concat(t[2],"<br><b>GeneRatio:</b> ").concat(t[3],"<br>\n              <b>BgRatio:</b> ").concat(t[4],"<br><b>pvalue:</b> ").concat(t[5],"<br><b>p.adjust:</b> ").concat(t[6],"<br><b>qvalue:</b> ").concat(t[7],"<br><b>Count:</b> ").concat(t[9])},extraCssText:"max-width:500px;white-space: normal;"},dataZoom:[{type:"slider",yAxisIndex:0,filterMode:"none",left:"1.5%",start:y_data.BP.length<40?0:100-40/y_data.BP.length*100,end:100},{type:"inside",yAxisIndex:0,filterMode:"none",start:y_data.BP.length<40?0:100-40/y_data.BP.length*100,end:100},{type:"slider",yAxisIndex:1,filterMode:"none",left:"34.5%",start:y_data.MF.length<40?0:100-40/y_data.MF.length*100,end:100},{type:"inside",yAxisIndex:1,filterMode:"none",start:y_data.MF.length<40?0:100-40/y_data.MF.length*100,end:100},{type:"slider",yAxisIndex:2,filterMode:"none",left:"67%",start:y_data.CC.length<40?0:100-40/y_data.CC.length*100,end:100},{type:"inside",yAxisIndex:2,filterMode:"none",start:y_data.CC.length<40?0:100-40/y_data.CC.length*100,end:100}],xAxis:[{type:"value",name:"Count",nameLocation:"center",nameGap:25,axisLine:{show:!1}},{type:"value",name:"Count",nameLocation:"center",nameGap:25,gridIndex:1,axisLine:{show:!1}},{type:"value",name:"Count",nameLocation:"center",nameGap:25,gridIndex:2,axisLine:{show:!1}}],yAxis:[{type:"category",axisLabel:{width:150,overflow:"truncate"},axisLine:{show:!1}},{type:"category",axisLabel:{width:150,overflow:"truncate"},gridIndex:1,axisLine:{show:!1}},{type:"category",axisLabel:{width:150,overflow:"truncate"},gridIndex:2,axisLine:{show:!1}}],visualMap:visualMap_data,series:[{type:"bar",encode:{x:1,y:0},datasetIndex:0},{type:"bar",encode:{x:1,y:0},xAxisIndex:1,yAxisIndex:1,datasetIndex:1},{type:"bar",encode:{x:1,y:0},xAxisIndex:2,yAxisIndex:2,datasetIndex:2}]},option&&myChart.setOption(option)},drawSnpMatchPlot=function(e,t){var a=document.getElementById(e);echarts.init(a).dispose();var o,n=echarts.init(a,null,{renderer:"svg"});(o={tooltip:{formatter:function(e){var a=t.sampleInfo[e.name];return"<b>Accession name:</b> ".concat(e.name,"<br>Origin: ").concat(a[1],"<br>\n          <b>Subpopulation:</b> ").concat(a[2],"<br><b>Probability of match:</b> ").concat(a[5],"<br>Number of matched SNPs: ").concat(a[3],"<br>\n          Likelihood: ").concat(a[6],"<br>Likelihood ratio against best hit: ").concat(a[7])}},toolbox:{show:!0,right:"2%",feature:{saveAsImage:{show:!0}}},dataZoom:[{type:"inside"},{type:"slider"}],visualMap:{type:"piecewise",top:50,right:10,categories:["Yingui","Jingui","Sijigui","Dangui"],inRange:{color:["#3C5488","#F39B7F","#91D1C2","#d62728"]}},xAxis:{type:"category",axisLabel:{show:!1},axisTick:{show:!1}},yAxis:{type:"value",name:"Probability of match",nameTextStyle:{color:"black"}},series:[{data:t.plotData,type:"bar"}]})&&n.setOption(o)},drawEpcrPlot=function(e,t){var a,o,n=document.getElementById(e);echarts.init(n).dispose();var i,r=echarts.init(n,null,{renderer:"svg"});(i={title:[{text:t.primerId,left:"center"},{subtext:"Mism statistics",left:"25%",top:"85%",textAlign:"center",subtextStyle:{fontWeight:"bold"}},{subtext:"Gaps statistics",left:"75%",top:"85%",textAlign:"center",subtextStyle:{fontWeight:"bold"}}],toolbox:{feature:{saveAsImage:{show:!0,name:"download"}}},tooltip:{trigger:"item",formatter:function(e){for(var a=["".concat(e.marker," ").concat(e.name,": ").concat(e.value,"(").concat(e.percent,"%)")],o=t.plotInfo[e.name],n=0;n<o.length;n++)a.push("(".concat(n+1,") ").concat(o[n]));return a.join("<br>")}},series:[(a={type:"pie",radius:"25%",center:["50%","50%"]},_defineProperty(a,"radius",[0,"50%"]),_defineProperty(a,"data",t.plotData.mism),_defineProperty(a,"label",{position:"outer",alignTo:"none",bleedMargin:5,formatter:"{b}: {c}({d}%)"}),_defineProperty(a,"left",0),_defineProperty(a,"right","50%"),_defineProperty(a,"top",0),_defineProperty(a,"bottom",0),a),(o={type:"pie",radius:"25%",center:["50%","50%"]},_defineProperty(o,"radius",[0,"50%"]),_defineProperty(o,"data",t.plotData.gaps),_defineProperty(o,"label",{position:"outer",alignTo:"labelLine",bleedMargin:5,formatter:"{b}: {c}({d}%)"}),_defineProperty(o,"left","50%"),_defineProperty(o,"right",0),_defineProperty(o,"top",0),_defineProperty(o,"bottom",0),o)]})&&r.setOption(i)},drawCircos=function(e,t){var a=500,o=d3.select("#"+t.canvas).append("svg").attr("width",1e3).attr("height",1e3).attr("id","synimg"+t.canvas).append("g").attr("transform","translate(1000,0)rotate(90)"),n=new e.IdeogramTrack({sid:t.canvas,collection:t.ideoCollection,el:o.append("g"),cx:a,cy:a,outerRadius:395,innerRadius:375,gapAngle:.01});n.render(!0),new e.LinkTrack({collection:t.linkCollection,el:o.append("g"),cx:a,cy:a,radius:373}).render(n)},familychart1plot=function(e,t){var a=document.getElementById(e);echarts.init(a).dispose();var o,n=echarts.init(a,null,{renderer:"svg"});o={grid:{borderWidth:1},title:{text:""},xAxis:{type:"value",name:"Gene number",gridLineWidth:1},yAxis:{type:"value",name:"Species number",startOnTick:!1,endOnTick:!1},tooltip:{formatter:function(e){return'<table><tr><th colspan="2"><h4>'+e.data[3]+"</h4></th></tr><tr><th>Ath family member:</th><td>"+e.data[2]+"</td></tr><tr><th>species number:</th><td>"+e.data[1]+"</td></tr><tr><th>gene number:</th><td>"+e.data[0]+"</td></tr></table>"},trigger:"item",axisPointer:{type:"cross"}},series:[{type:"scatter",data:t,symbolSize:function(e){return.7*Math.sqrt(e[0])}}]},o&&n.setOption(o)},familychart2plot=function(e,t){var a=document.getElementById(e);echarts.init(a).dispose();var o,n=echarts.init(a,null,{renderer:"svg"});(o={color:["#D48265","#61A0A8"],tooltip:{trigger:"axis",axisPointer:{type:"cross"}},grid:{right:"10%"},toolbox:{feature:{dataView:{show:!0,readOnly:!1},saveAsImage:{show:!0}}},legend:{data:["Species number","Gene number"]},xAxis:[{type:"category",axisTick:{alignWithLabel:!0},data:t.Ath_ID,axisLabel:{interval:0,rotate:40}}],yAxis:[{type:"value",name:"Species number",position:"left",alignTicks:!0,axisLine:{show:!0,lineStyle:{color:"#D48265"}},axisLabel:{formatter:"{value}"}},{type:"value",name:"Gene number",position:"right",alignTicks:!0,axisLine:{show:!0,lineStyle:{color:"#61A0A8"}},axisLabel:{formatter:"{value}"}}],series:[{name:"Species number",type:"bar",data:t.spe_num},{name:"Gene number",type:"bar",yAxisIndex:1,data:t.gene_num}],dataZoom:[{type:"slider",show:!0,start:0,end:5,handleSize:8},{type:"inside",start:0,end:15},{type:"slider",show:!0,yAxisIndex:0,filterMode:"empty",width:12,height:"70%",handleSize:8,showDataShadow:!1,left:"93%"}]})&&n.setOption(o)},familychart3plot=function(e,t,a){var o=document.getElementById(e);echarts.init(o).dispose();var n,i=echarts.init(o,null,{renderer:"svg"});(n={title:{text:""},xAxis:{type:"category",data:[a]},yAxis:{type:"value",min:0,name:"species number"},legend:{right:10,top:10},tooltip:{formatter:function(e){var t=e.seriesName,o=e.data;return"<b>"+a+"</b><br/>"+t+": "+o+"<br/>total:21"},trigger:"axis",axisPointer:{type:"shadow"}},series:[{name:"species number without family genes",type:"bar",stack:"Ad",color:"#61A0A8",data:[21-t]},{name:"species number with family genes",type:"bar",stack:"Ad",data:[t],color:"#D48265"}]})&&i.setOption(n)},familychart4plot=function(e,t,a){var o=document.getElementById(e);echarts.init(o).dispose();var n,i=echarts.init(o,null,{renderer:"svg"});(n={title:{text:"",x:"center"},graphic:{type:"text",left:"0",top:"30%",style:{text:"Gene number",textAlign:"center",fill:"#000",fontSize:15,textBaseline:"middle",width:5,height:30},rotation:Math.PI/2},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},toolbox:{show:!0,feature:{mark:{show:!0},dataView:{show:!0,readOnly:!1},magicType:{show:!0,type:["pie","funnel"],option:{funnel:{x:"25%",width:"50%",funnelAlign:"left"}}},restore:{show:!0},saveAsImage:{show:!0}}},grid:{x:70,y2:200},xAxis:[{type:"category",data:t,splitLine:{show:!1},axisTick:{alignWithLabel:!0},axisLabel:{interval:0,rotate:40}}],yAxis:[{type:"value",splitLine:{show:!1},splitArea:{show:!0}}],series:[{name:"Gene Number",type:"bar",label:{show:!0,position:"top"},itemStyle:{color:function(e){return e.value>0?"#D48265":"#61A0A8"}},data:a.num}],dataZoom:[{type:"slider",show:!0,start:0,end:30,handleSize:8},{type:"inside",start:0,end:15},{type:"slider",show:!0,yAxisIndex:0,filterMode:"empty",width:12,height:"70%",handleSize:8,showDataShadow:!1,left:"93%"}]})&&i.setOption(n)},spefamilychart2plot=function(e,t,a){var o=document.getElementById(e);echarts.init(o).dispose();var n,i=echarts.init(o,null,{renderer:"svg"});(n={title:{text:"",x:"center"},graphic:{type:"text",left:"20",top:"30%",style:{text:"Gene number",textAlign:"center",fontSize:18,textBaseline:"middle",width:5,height:30},rotation:Math.PI/2},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},toolbox:{show:!0,feature:{mark:{show:!0},dataView:{show:!0,readOnly:!1},magicType:{show:!0,type:["pie","funnel"],option:{funnel:{x:"25%",width:"50%",funnelAlign:"left"}}},restore:{show:!0},saveAsImage:{show:!0}}},grid:{x:70,y2:200},xAxis:[{type:"category",data:t,splitLine:{show:!1},axisTick:{alignWithLabel:!0},axisLabel:{interval:0,rotate:40}}],yAxis:[{type:"value",splitLine:{show:!1},splitArea:{show:!0}}],series:[{name:"Gene Number",type:"bar",label:{show:!0,position:"top"},itemStyle:{color:function(e){return e.value>0?"#D48265":"#61A0A8"}},data:a.gene_num}],dataZoom:[{type:"slider",show:!0,start:0,end:5,handleSize:8},{type:"inside",start:0,end:15},{type:"slider",show:!0,yAxisIndex:0,filterMode:"empty",width:12,height:"70%",handleSize:8,showDataShadow:!1,left:"93%"}]})&&i.setOption(n)},draw_domain_plot=function(e){var t=new PfamGraphic;$prototype("plot_div").select("canvas").size()>0&&$prototype("plot_div").select("canvas").first().remove();for(var a={Domain:{color:"#9999ff",startStyle:"curved",endStyle:"curved"},Family:{color:"#399",startStyle:"straight",endStyle:"straight"},"Coiled-coil":{color:"#1fc01f",startStyle:"jagged",endStyle:"jagged"},Disordered:{color:"#c00f0f",startStyle:"curved",endStyle:"curved"},Motif:{color:"#ff9c00",startStyle:"straight",endStyle:"straight"},Repeat:{color:"#0FF",startStyle:"straight",endStyle:"straight"}},o={length:e[0].Sequence_length,regions:[]},n=0;n<e.length;n++){if(e[n].type in a)var i=a[e[n].type].color,r=a[e[n].type].startStyle,l=a[e[n].type].endStyle;else e[n].type="NoneType",i="#9999ff",r="curved",l="curved";var s={type:"pfam",text:e[n].pfamA_id,colour:i,display:"true",startStyle:r,endStyle:l,start:e[n].Start_location,end:e[n].Stop_location,metadata:{scoreName:"e-value",score:e[n].Evalue,description:e[n].Signature_description,database:"pfam",identifier:e[n].Signature_accession,type:e[n].type,pfamA_id:e[n].pfamA_id,start:e[n].Start_location,end:e[n].Stop_location}};o.regions.push(s)}t.setParent("plot_div"),t.setImageParams({xscale:"1.2",yscale:"1.2"}),t.setSequence(o),t.render()},genome_bar_plot=function(e,t){console.log("hhh"),console.log(t);var a=document.getElementById(e);echarts__WEBPACK_IMPORTED_MODULE_0__.S1(a).dispose();var o,n=echarts__WEBPACK_IMPORTED_MODULE_0__.S1(a,null,{renderer:"svg"});o={tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},toolbox:{feature:{saveAsImage:{show:!0}},top:"5%"},title:{text:"Year of publication",left:"center",top:"5%"},xAxis:{name:"Year",type:"category",data:t.years},yAxis:{name:"Number",type:"value"},series:[{data:t.nums,type:"bar"}]},n.on("click",(function(e){var t=e.name;console.log(e);var a=$("#genome_source_table").DataTable(),o=a.column(7).search();a.search("").columns().search("").draw(),o!==t&&a.column(7).search(t,!0,!1).draw()})),o&&n.setOption(o)},sample_bar_plot1=function(e,t,a){var o=document.getElementById(e);echarts.init(o).dispose();var n,i=echarts.init(o,null,{renderer:"svg"});n={tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},toolbox:{feature:{saveAsImage:{show:!0}},top:"5%"},title:{text:"Tissue-specific gene distribution",left:"center",top:"5%"},xAxis:{name:"Tissues",type:"category",data:t.tau_tis},yAxis:{name:"Number",type:"value"},series:[{data:t.nums,type:"bar"}]},i.on("click",(function(e){var t=e.name;console.log(e);var o,n=$("#tran_sample_info_table").DataTable();o="tau"==a?n.column(4).search():n.column(6).search(),n.search("").columns().search("").draw(),o!==t&&n.column(4).search(t,!0,!1).draw()})),n&&i.setOption(n)},valcano_Plot=function(e,t,a,o,n,i){console.log(1);var r=document.getElementById(e);echarts.init(r).dispose();var l,s=echarts.init(r,null,{renderer:"svg"});(l={tooltip:{position:"top",formatter:function(e){return e.marker+" gene ID: "+e.value[2]+"<br>log2FC: "+e.value[0].toFixed(3)+"<br>-lg(q-value): "+e.value[1].toFixed(3)+"<br>q-value: "+parseFloat(e.value[3]).toExponential(3)}},toolbox:{show:!0,feature:{saveAsImage:{name:"Valcano Plot",show:!0}}},grid:{show:!0,borderColor:"#333",top:25},xAxis:{name:"log2FoldChange",nameLocation:"middle",splitLine:{show:!1},nameTextStyle:{fontSize:20,color:"#333",padding:[10,0,0,0]},min:-Math.ceil(1.1*t),max:Math.ceil(1.1*t)},yAxis:{name:"-lg (q-value)",nameLocation:"middle",splitLine:{show:!1},nameTextStyle:{fontSize:20,color:"#333",padding:[0,0,15,0]},min:0,max:Math.ceil(1.1*a)},legend:{orient:"vertical",right:"40",y:"center"},series:[{name:"Up",symbolSize:8,data:o,type:"scatter",color:"rgb(240, 73, 73)"},{name:"Down",symbolSize:8,data:n,type:"scatter",color:"rgb(43, 182, 236)"},{name:"No",symbolSize:8,data:i,type:"scatter",color:"rgb(121, 121, 121)"},{type:"line",markLine:{silent:!0,data:[{xAxis:-1},{xAxis:1},{yAxis:1.3}],symbol:"none",lineStyle:{normal:{type:"dashed",color:"#999",width:1.5}}}}]})&&s.setOption(l)},draw_top20gene_plot=function(e,t,a,o,n){var i=document.getElementById("top20_"+o);echarts.init(i).dispose();var r=echarts.init(document.getElementById("top20_"+o)),l={title:{text:"The expression of the top "+String(e.length)+" "+o+"-regulated genes",x:"center"},xAxis:{name:"Gene ID",type:"category",data:e,axisLabel:{interval:0,rotate:40}},yAxis:{name:"TPM",type:"value"},tooltip:{},grid:{width:500,height:300,right:100},legend:{data:n,right:0,orient:"vertical"},dataZoom:{type:"inside"},series:[{name:n[0],data:a,type:"bar"},{name:n[1],data:t,type:"bar"}]};r.setOption(l)},draw_home_genomics_plot=function(e,t,a){var o,n,i=document.getElementById(e),r=echarts.init(i);n={grid:{width:"70%",left:"52%",top:"5%"},tooltip:{show:!0,formatter:function(e){return e.name+":"+e.data}},yAxis:{type:"category",data:t},xAxis:(o={type:"value",axisLine:{show:!1},axisTick:{show:!1}},_defineProperty(o,"axisLine",{show:!1}),_defineProperty(o,"axisLabel",{show:!1}),o),series:[{data:a,color:"rgb(174, 216, 230)",type:"bar"}]},r.setOption(n)},draw_home_variation_plot=function(e){var t,a=document.getElementById(e),o=echarts.init(a);(t={grid:{width:"70%",height:"50%",left:"22%",top:"35%"},title:{text:"Statistics for genetic variation",left:"20%",top:"15%",textStyle:{fontSize:15}},xAxis:{type:"category",data:["SNP","InDel"],axisLabel:{interval:0}},yAxis:{type:"value",axisLine:{show:!0},axisTick:{show:!0}},series:[{data:[30507963,12257327],colorBy:"data",type:"bar",label:{show:!0,position:"top",formatter:function(e){return e.value.toLocaleString()}}}]})&&o.setOption(t)},pan_bar_plot=function(e,t){console.log("hhh"),console.log(t);var a=document.getElementById(e);echarts.init(a).dispose();var o,n=echarts.init(a,null,{renderer:"svg"});(o={grid:{bottom:"15%",top:"15%"},tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},title:{text:"Number of gene cluster and genome",left:"center",top:"5%"},xAxis:{type:"category",data:t.scores,axisLabel:{position:"bottom",align:"center",textStyle:{fontSize:8}}},yAxis:{name:"Number",type:"value"},toolbox:{feature:{saveAsImage:{show:!0}},top:"5%"},series:[{avoidLabelOverlap:!0,data:t.num,type:"bar",itemStyle:{color:function(e){return console.log(e.dataIndex),0==e.dataIndex?"rgb(86, 180, 233)":e.dataIndex>="1"&&e.dataIndex<="37"?"rgb(0, 158, 115)":"rgb(230, 159, 0)"}},label:{show:!0,position:"top"}}]})&&n.setOption(o)},drawpanClusterPiePlot=function(e,t){console.log(t.diff);var a=document.getElementById(e);console.log(a),echarts.init(a).dispose();var o,n=echarts.init(a,null,{renderer:"svg"});(o={title:{text:"Composition of gene clusters",left:"center",top:"5%"},tooltip:{trigger:"item",formatter:"{b}: {c}({d}%)"},legend:{orient:"vertical",right:"top",type:"scroll",top:"70%",show:!0},grid:{left:"40%",containLabel:!0},toolbox:{feature:{saveAsImage:{show:!0}},top:"5%"},series:[{type:"pie",radius:"50%",data:t.diff,label:{show:!0,formatter:"{b}"},color:["rgb(86, 180, 233)","rgb(0, 158, 115)","rgb(230, 159, 0)"],emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}},{type:"pie",radius:"50%",data:t.diff,labelLine:{show:!1},label:{show:!0,formatter:"{d}%",position:"inner"},color:["rgb(86, 180, 233)","rgb(0, 158, 115)","rgb(230, 159, 0)"],emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]})&&n.setOption(o)},drawphyTree=function(e,t,a,o){d34.select(e+" svg").remove();var n=400,i=d34.scaleOrdinal().domain(["Winter","Spring","Semi-winter"]).range(["#3C5488","#F39B7F","#91D1C2"]),r=d34.cluster().size([360,n]).separation((function(e,t){return 1})),l=d34.select("ID").append("svg").attr("width",1e3).attr("height",1e3),s=l.append("g").attr("class","legend").attr("transform","translate(0,30)").selectAll("g").data(i.domain()).enter().append("g").attr("transform",(function(e,t){return"translate(150,"+(20*t+10)+")"}));s.append("rect").attr("x",-18).attr("width",18).attr("height",18).attr("fill",i),s.append("text").attr("x",-24).attr("y",9).attr("dy",".35em").attr("text-anchor","end").text((function(e){return e}));var d=l.append("g").attr("transform","translate(500,500)");function c(e){return e.data.length+(e.children?d34.max(e.children,c):0)}function p(e,t,a){e.radius=(t+=e.data.length)*a,e.children&&e.children.forEach((function(e){p(e,t,a)}))}function u(e){return h(e.source.x,e.source.radius,e.target.x,e.target.radius)}function m(e){return h(e.source.x,e.source.y,e.target.x,e.target.y)}function g(e){return h(e.target.x,e.target.radius,e.target.x,n)}function y(e){return h(e.target.x,e.target.y,e.target.x,n)}function h(e,t,a,o){var n=Math.cos(e=(e-90)/180*Math.PI),i=Math.sin(e),r=Math.cos(a=(a-90)/180*Math.PI),l=Math.sin(a);return"M"+t*n+","+t*i+(a===e?"":"A"+t+","+t+" 0 0 "+(a>e?1:0)+" "+t*r+","+t*l)+"L"+o*r+","+o*l}d34.text(a,(function(e,t){if(e)throw e;var a=d34.hierarchy(parseNewick(t),(function(e){return e.branchset})).sum((function(e){return e.branchset?0:1})).sort((function(e,t){return e.value-t.value||d34.ascending(e.data.length,t.data.length)}));r(a);var o=d34.select("#show-length input").on("change",h),i=setTimeout((function(){o.property("checked",!0).each(h)}),0);p(a,a.data.length=0,n/c(a)),setColor(a);var l=d.append("g").attr("class","link-extensions").selectAll("path"),s=(d34.select("#treePlot").append("div").style("position","absolute").style("z-index","10").style("color","black").style("visibility","hidden").style("font-size","12px").style("font-weight","bold").style("padding","3px").style("background","white").style("border","1px solid black").text(""),d.append("g").attr("class","links").selectAll("path").data(a.links()).enter().append("path").each((function(e){e.target.linkNode=this})).on("mouseover",mouseovered(!0)).on("mouseout",mouseovered(!1)).attr("d",m).attr("stroke",(function(e){return e.target.color})));function h(){clearTimeout(i);var e=d34.transition().duration(750);l.transition(e).attr("d",this.checked?g:y),s.transition(e).attr("d",this.checked?u:m)}}))}}}]);